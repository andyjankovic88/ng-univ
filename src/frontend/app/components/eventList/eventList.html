<div class="upcoming-events">
   <!-- post-section -->
   <div class="post">
      <div class="post-section post-description" ng-repeat="(key, event) in events">
         <div class="holder">
            <figure class="post-heading clearfix">
               <a class="photo-holder" ui-sref="profile({id:event.creator.id})">
                  <img ng-if="event.creator.profile_pic" ng-src="{{event.creator.profile_pic}}">
               </a>
               <div class="wrapper-user">
                  <div class="user-details clearfix">
                     <div class="l-side">
                        <a ui-sref="profile({id:event.creator.id})" class="user-name">{{event.creator.name}}</a>
                        <span class="points" ng-if="event.creator.points > 0">{{event.creator.points}}</span>
                     </div>
                  </div>
                  <figcaption class="time-category">
                     <div class="user-info clearfix">
                        <span class="date">{{event.how_long_ago}}</span>
                     </div>
                  </figcaption>
               </div>
            </figure>
         </div>
         <div class="holder" ng-if="event.pic" ui-sref="event({group_type: type, group_id: clubId, event_id: key})">
            <figure class="simple-img middle">
               <a href="#">
                  <img ng-if="event.pic" ng-src="{{event.pic}}">
               </a>
               <div class="img-info">
                  <div class="img-description">
                     <h2>{{event.title}}</h2>
                     <div class="holder">
                        <div class="coll l-side">
                           <div class="coll l-side">
                              <div class="holder">
                                 <span class="date">
                                   {{event.start_date | date:'d'}}<strong>{{event.start_date | date:'MMM'}}</strong>
                                 </span>
                              </div>
                           </div>
                           <div class="coll r-side">
                              <div class="holder">
                                 <svg class="ico-schedule ico-white"><use xlink:href="#icon-schedule" /></svg>
                                 <span><strong>{{event.start_time}}</strong> - <strong><span ng-if="event.end_date !== event.start_date">{{event.end_date | date:'dMMM'}} </span>{{event.end_time}}</strong> (<strong>{{event.timezone}}</strong>)</span>
                              </div>
                              <div class="holder">
                                 <svg class="ico-location ico-white"><use xlink:href="#icon-location" /></svg>
                                 <span>{{event.location}}</span>
                              </div>
                           </div>
                        </div>
                        <button type="button" ng-hide="event.is_joined" class="btn-blue" ng-click="joinEvent(event, key)">Join Event</button>
                        <button type="button" ng-show="event.is_joined" class="btn-blue" ng-click="leaveEvent(event, key)">Leave Event</button>
                     </div>
                  </div>
               </div>
            </figure>
         </div>
         <div class="post-txt">
            <h2 ng-if="!event.pic" ui-sref="event({group_type: type, group_id: clubId, event_id:  key})">{{event.title}}</h2>
            <p>{{event.description}}</p>
         </div>
         <div class="holder without-img" ng-if="!event.pic">
            <div class="img-info">
               <div class="img-description">
                  <div class="holder">
                     <div class="coll l-side">
                        <div class="coll l-side">
                           <div class="holder">
                                 <span class="date">
                                   {{event.start_date | date:'d'}}<strong>{{event.start_date | date:'MMM'}}</strong>
                                 </span>
                           </div>
                        </div>
                        <div class="coll r-side">
                           <div class="holder">
                              <svg class="ico-schedule ico-white"><use xlink:href="#icon-schedule" /></svg>
                              <span><strong>{{event.start_time}}</strong> - <strong><span ng-if="event.end_date !== event.start_date">{{event.end_date | date:'dMMM'}} </span>{{event.end_time}}</strong> (<strong>{{event.timezone}}</strong>)</span>
                           </div>
                           <div class="holder">
                              <svg class="ico-location ico-white"><use xlink:href="#icon-location" /></svg>
                              <span>{{event.location}}</span>
                           </div>
                        </div>
                     </div>
                        <button type="button" ng-hide="event.is_joined" class="btn-blue" ng-click="joinEvent(event, key)">Join Event</button>
                        <button type="button" ng-show="event.is_joined" class="btn-blue" ng-click="leaveEvent(event, key)">Leave Event</button>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
